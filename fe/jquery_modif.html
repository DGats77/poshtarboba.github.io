<!DOCTYPE html>
<html>
<head>
	<title>Frontend. Модифікація DOM в jQuery</title>
	<meta charset="utf-8">
	<meta name="keywords" content="">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<link type="text/css" rel="stylesheet" href="style.css">
</head>
<body>
<div id="mainwrapper">
	<div class="resize">

		<section>
			<h1>Модифікація DOM в jQuery</h1>
			
			<h2>Добавляння елементів та HTML</h2>
			<p><em>$(куди_добавляємо).fun(що_добавляємо);</em></p>
			<p><strong>$('p').before(s);</strong> - вставляє HTML-код чи елемент перед кожним вибраним елементом.</p>
			<p><strong>$('p').after(s);</strong> - вставляє HTML-код чи елемент після кожного вибраного елемента.</p>
			<p><strong>$('p').prepend(s);</strong> - вставляє HTML-код чи елемент всередину кожного вибраного елемента на початок.</p>
			<p><strong>$('p').append(s);</strong> - вставляє HTML-код чи елемент всередину кожного вибраного елемента в кінець.</p>
			<code>
				var $strong = $('strong:first');<br>
				var img = document.createElement('img');<br>
				img.setAttribute('src', 'https://68.media.tumblr.com/avatar_5295b088c685_128.png');<br><br>
				$('p').before('&lt;hr&gt;');<br>
				$('p').after(img);<br>
				$('h2').prepend('&lt;span class="danger"&gt;!!! >>> &lt;/span&gt;');<br>
				$('h2').append($strong);
			</code>
			<h3>Добавляння елементів та HTML до цільового елемента.</h3>
			<p><em>$(що_добавляємо).fun(куди_добавляємо);</em></p>
			<p><strong>$(e).insertBefore(target);</strong> - добавляє перед елементом.</p>
			<p><strong>$(e).insertAfter(target);</strong> - добавляє після елемента.</p>
			<p><strong>$(e).prependTo(target);</strong> - добавляє всередину на початок елемента.</p>
			<p><strong>$(e).appendTo(target);</strong> - добавляє всередину в кінець елемента.</p>
			<code>
				var tgt = $('h2');<br>
				var $strong = $('strong:first');<br>
				var img = document.createElement('img');<br>
				img.setAttribute('src', 'https://68.media.tumblr.com/avatar_5295b088c685_128.png');<br><br>
				$('&lt;hr&gt;').insertBefore(tgt);<br>
				$(img).insertAfter(tgt);<br>
				$('&lt;span class="danger"&gt;!!! >>> &lt;/span&gt;').prependTo(tgt);<br>
				$($strong).appendTo('h2');
			</code>
			
			<h2>Створення та видалення елементів</h2>
			<p><strong>$('&lt;p class="hey"&gt;hello&lt;/p&gt;')</strong> - створює елемент(и) у пам'ять.</p>
			<p><strong>$(e).clone();</strong> - клонує елементи у пам'ять.</p>
			<code>
				$('#userpic').clone().prependTo('.comment');<br>
				$('button.calc').clone(true);<br>
				$('menu').clone(<a href="https://api.jquery.com/clone/" target="_blank">true, true</a>);
			</code>
			<p><strong>$('ul').empty();</strong> - видаляє всі дочірні елементи (очищає вибрані елементи).</p>
			<p><strong>$('li').remove();</strong> - видаляє вибрані елементи.</p>
			<p><strong>$('li').detach();</strong> - видаляє вибрані елементи і повертає їх.</p>
			<code>
				$('section').eq(0).empty();<br>
				$('section').eq(1).html('');<br>
				$('section').get(2).innerHTML = ''<br><br>
				$('h2').eq(0).remove();<br><br>
				var $li = $('ol li').each(function(i){<br>
				&nbsp;&nbsp;$(this).prepend('[' + i + '] ');<br>
				}).filter(':even').detach();<br>
				window.onclick = function(){<br>
				&nbsp;&nbsp;$('ol').eq(0).prepend($li);<br>
				}
			</code>
			<p>Методи remove і detach можуть приймати аргумент - селектор, для фільтрації елементів, що будуть видалені.</p>
			
			<h2>Обгортки.</h2>
			<p><strong>$(e).wrap(html);</strong> - робить обгортку довкола кожного з вибраних елементів.</p>
			<p><strong>$(e).wrapAll(html);</strong> - робить одну спільну обгортку для всіх вибраних елементів.</p>
			<p><strong>$(e).wrapInner(html);</strong> - робить обгортку для контента кожного вибраного елемента (огортає всередині).</p>
			<p><strong>$(e).unwrap();</strong> - видаляє обгортку (безпосереднього батька).</p>
			<code>
				$('h2').wrap('&lt;div class="h2-wrap"&gt;&lt;/div&gt;');<br>
				$('.h2-wrap').css('border', '1px solid blue');<br>
				$('h2').wrapInner('&lt;span class="danger"&gt;&lt;/span&gt;');<br>
				$('li').wrapAll('ul');<br>
				$('h1').unwrap('.resize');
			</code>
			<p>Метод unwrap може приймати селектор, якщо батьківський елемент не відфільтрується ним, то обгортка не видалиться.</p>
		</section>

		<section>
			<h2>Події (events):</h2>
			<p><strong>$('p').click(function(e){ ... });</strong> - добавити елементам обробник події кліка.</p>
			<p><strong>$('input.text').change(function(e){ ... });</strong> - змінилося значення елемента форми (викликається при втраті фокуса).</p>
			<p><strong>$('input.text').focus(f).blur(f);</strong> - отримання та втрата фокуса елементом форми, посиланням.</p>
			<p><strong>$('input.text').hover(f, f);</strong> - ховер-ефект: дві функції на отримання і втрату ховера.</p>
			<p><strong>$('input.text').keydown(f).keyup(f).keypress(f);</strong> - події клавіатури.</p>
			<p><strong>$('img').mousedown(f).mouseup(f).mouseenter(f).mouseleave(f).mousemove(f)....;</strong> - події миші.</p>
			<p><strong>$('img').load(f);</strong> - елемент завантажено (використовується для ресурсів, документа).</p>
			<p><strong>$('body').ready(f).unload(f);</strong> - події готовності до використання, вигрузки елемента.</p>
			<p><strong>$(window).resize(f).scroll(f).beforeunload(f);</strong> - події на зміну розміра, скролл, закриття вкладки.</p>
			<h3>Робота з прослуховувальником подій.</h3>
			<p><strong>$('img').on('event_name', function(e){ ... });</strong> - добавити елементам обробник події.</p>
			<p><strong>$('img').off('event_name');</strong> - видалення обробника події.</p>
			<p><strong>$('img').one('event_name', function(event){ ... });</strong> - обробник події спрацює лише один раз і сам автоматично видалиться.</p>
			<p>.live(), .bind(), .deletage() - застарілі методи.</p>
			<h3>Делегація подій від батьківських елементів до дочірніх.</h3>
			<p>Наприклад, у нас динамічно створюються кнопки. Після створення кожної кнопки на неї потрібно вішати обробник подій.</p>
			<p>Можна піти іншим шляхом: обробник подій задати батьківському елементу, і вказати ціль, що викликатиме подію:</p>
			<code>
				<strong>$(parent).on(event, target, handler);</strong><br>
				$('#buttons').on('click', 'button', function(e){ ... });
			</code>
			<p>При кліку в межах батьківського елемента метод перевіряє який елемент знаходиться в event.target, перевіряє, чи підходить він під вказаний другим аргументом селектор, і якщо підходить, то подія викликається від його імені.</p>
		</section>

		<section class="homework">
			<h2>Домашнє завдання.</h2>
			<ol>
				<li>Збережіть собі в папку нового проекту файл <a href="part_54_homework.html" target="_blank">part_54_homework.html</a>, підключіть jQuery і файл ваших скриптів script.js.</li>
				<li>Дослідіть стилі даного файла, по можливості запам'ятайте назви класів.</li>
				<li>Виведіть в консоль кількість елементів списку .rainbow, приклад: "Rainbow count: 7".</li>
				<li>Добавте клас 'active' до списка .rainbow і всі елементи розфарбуйте у відповідні кольори класами col*.</li>
				<li>Виведіть в консоль текст і html-код елемента .bl цього списку.</li>
				<li>В списку #test розфарбуйте елементи test червоним кольором класом .active, елементи subtest - класом .passive.</li>
				<li>Першому елементу кожного списка сторінки задайте класом синю тінь для текста, останньому - зелену.</li>
				<li>Елементу .lol мають передувати 2 елемента з синьою та зеленою тінню, а також наступні 2 елемента повинні мати синю та зелену тінь. Висоту елемента .lol задати 40px, розмір шрифта і lineheight - 24px / 28px.</li>
				<li>В списку з title="links" текст посилань зробіть відповідним до його href (скопіюйте href у text).</li>
				<li>Посилання на FTP пофарбуйте класом у зелений колір.</li>
				<li>Знайдіть елемент .special, додайте його батьку клас 'specwrap', батьківському елементу .silver додайте клас 'active'.</li>
				<li>Пронумеруйте всіх батьків елемента .special атрибутом data-parent="..." числами 1, 2, 3, 4... починаючи від безпосереднього батька. Перегляньте код елементів у інспекторі об'єктів, має бути щось типу такого: &lt;strong data-parent="1"&gt;</li>
				<li>Візьміть елемент #test, знайдіть всіх його дітей першого порядку (ті, що з текстом test), окрім елемента .lol, зробіть текст літерами у верхньому регістрі, додавши клас .upper.</li>
				<li>В елементі .week виберіть дітей 's, em, i, .big', скориставшись методом .filter(), добавте до них клас 'passive', щоб задати світлосірий колір тексту.</li>
				<li>В списку ul[title="links"] перед кожним елементом http-посилання добавте &lt;li&gt;_________&lt;/li&gt;, а після кожного ftp-посилання - &lt;li&gt;^^^^^^^^^&lt;/li&gt;.</li>
				<li>В списку #test кожному елементу "test" добавте на початок &lt;b&gt;!!!&lt;/b&gt;, а до елементів subtest добавте в кінець &lt;i>???&lt;/i>.</li>
				<li>Клонуйте список #test та добавте його в кінець веб-сторінки. Зауважте, що на одній сторінці не повинно бути двох елементів з однаковим id.</li>
				<li>Пронумеруйте елементи списку #test: 1. test, 2. test і т.д., видаліть кожен парний елемент списку (бажано без циклу, селектором <strong>:even</strong>). Якщо при цьому буде видалено список з елементами subtest, то змініть умову задачі: потрібно видалити непарні елементи.</li>
				<li>Очистіть елементи списку "subtest".</li>
				<li>Огорніть елементи .week та .week2 тегом div.col5.</li>
				<li>Огорніть всі списки разом тегом section.</li>
				<li>Виберіть всіх дітей елемента .week, і огорніть їх контент тегом span.check.</li>
				<li>Якщо зажати Shift і водити мишу по екрану - в консоль повинні виводитися імена тегів елементів, на які наводиться миша.</li>
				<li>При кліку на елементи списку .rainbow виводьте alert з іменем класу цього елемента і кольором фону через пробіл.</li>
				<li>При отриманні фокуса текстових полів форми підсвічуйте їх жовтим фоном (.col3).</li>
				<li>Виводьте в консоль букви, які нажимає користувач, знаходячись в текстових полях. Забороніть в полі телефона натискання клавіші 0 (return false;).</li>
				<li>Зніміть властивість checked з радіокнопок, добавте цю властивість до чекокса.</li>
				<li>Для елемента .check добавте метод, щоб при кліку в нього змінювався стан (клас 'active') і при цьому переключався чекбокс.</li>
				<li>При кліку на дітей елемента .week повинні з’являтися alert’и з текстом, що міститься в цих елементах.</li>
				<li>Аналогічно у елементів .week2, але якщо є атрибут data-click, то алерт має вивестися не більше стількох раз, як вказано в цьому параметрі, а якщо немає цього параметра - лише 1 раз.</li>
				<li>Добавте до .week ще один елемент &lt;b&gt;newday&lt;/b&gt;, переконайтесь, що клік на нього не працює. Модифікуйте обробник подій так, щоб після динамічного створення цього елемента він також би ловив подію кліка.</li>
				<li>В список .wave добавте 30 елементів з текстом 'wave', зробіть "стадіонну хвилю" - при наведенні на елемент йому задається клас .wave1, його сусідам - .wave2, далі сусідам - .wave3, 4 і т.д. до .wave8.</li>
			</ol>
		</section>

		<section>
			<h2>Для чого вам jQuery.</h2>
			<p>Ви можете знайти багато інформації, думок про те, що "<a href="https://habrahabr.ru/post/259223/" target="_blank">скрипач не нужен</a>".</p>
			<p>Зазвичай автори цих статей і думок мало займаються фронтенд-кодінгом, більше спеціалізуючись на бекенді або займають якусь певну нішу типу обміну даними з сервером, спеціалісти з різноманітних ангулярів, нод і т.п.</p>
			<p>Для чого потрібно знати jQuery:</p>
			<ol>
				<li>Цього вимагають роботодавці.</li>
				<li>jQuery став еталоном для багатьох інших бібліотек, їх будова, принципи роботи схожі з jQuery, тому розібратися в них вам буде значно простіше, швидше.</li>
				<li>Величезна база зручних jQuery-плагінів нікуди не дінеться ще багато років, для багатьох плагінів, типу слайдерів (галерей), таблиць даних немає ніяких адекватних альтернатив.</li>
				<li>В jQuery методи названі логічніше, працюють зрозуміліше, ніж в JS, тому бібліотеку можна вивчити за лічені години і писати складний код.</li>
				<li>Анімацію на JS досі доволі складно реалізувати, в CSS далеко не все працює так, як того хотілося б.</li>
				<li>Можна вигадувати свої велосипеди, але вони точно не будуть працювати швидше, розмір бібліотеки не буде меншим.</li>
				<li>jQuery - найрозповсюдженіша бібліотека, регулярно оновлюється, на відміну від багатьох своїх конкурентів.</li>
				<li>Принципова відмова від jQuery в проекті вимагає шукати більш досвідчених розробників, здорожчує проект за рахунок зарплат та витрат часу на розробку.</li>
			</ol>
			<p>Багато моментів, про які писала пані Lea Verou (проблеми з переходом від натівних об'єктів до jQuery-об'єктів і назад, багатократне огортання змінних в оболонку) говорить не в її користь, про її недосвідченість, недостатню практику у jQuery, а також незнання цієї бібліотеки: в реальних великих проектах не так часто є потреба весь час скакати між натівними об'єктами та оболонкою. В маленьких проектах часто такі переходи взагалі не зустрічаються (окрім огортання this). Заплюсовані коментарі після статті в основному на підтримку jQuery.</p>
			<p>Резюмуючи вищесказане - <strong>до всього необхідно підходити з розумом</strong>:</p>
			<ol>
				<li>Не варто підключати jQuery якщо вам хочеться скоротити свій JS з 20 строк кода до 5 (5 строк кода + файлик на 60 кб).</li>
				<li>Не варто підключати jQuery заради двох простих маленьких анімацій.</li>
				<li>Не варто підключати jQuery якщо хочеться використати простенький плагін, який можна написати за 5 хвилин на чистому JS.</li>
				<li>Варто підключити jQuery, якщо ви активно використовуєте інші бібліотеки і плагіни, залежні від нього (наприклад, бутстрап).</li>
				<li>Варто підключити jQuery, якщо є альтернатива підключити декілька різних, менш популярних бібліотек, що реалізують потрібну вам функціональність: для роботи з DOM + для роботи з анімацією + для роботи з AJAX + для роботи з подіями (подружити між собою декілька різнокаліберних бібліотек буває значно важче, ніж використати одну універсальну).</li>
				<li>Варто підключити jQuery, якщо проект розробляють джуни, а не профі.</li>
				<li>Варто підключити jQuery, якщо вам терміново в короткі строки потрібно написати складний плагін.</li>
				<li>Варто оцінити свої можливості, і якщо є такі можливості, щоб відмовитися від jQuery - від нього варто відмовитися, якщо таких можливостей немає - краще його підключити і застосовувати.</li>
			</ol>
			<p>jQuery - лише інструмент, доволі хороший, як молоток, зручний, дешевий, на всі 100% виконує свої функції.<br>В майстерні він необхідний, але навряд чи ви його будете застосовувати під час клеяння кораблика із сірників чи пришивання гудзика до сорочки.</p>
		</section>

		<section>
			<p><a href="https://www.youtube.com/watch?v=9y_gbVt9oio" target="_blank">Youtube: От jQuery к Vue.js - эволюция программирования на javascript</a> (вебінар, 2 години).</p>
		</section>

	</div>
</div>

<script src="jquery-3.1.1.min.js"></script>
<script src="fe.js"></script>

</body>
</html>